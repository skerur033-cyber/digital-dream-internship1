<!DOCTYPE html>
<html>
<head>
  <title>Todo List with Dark Mode</title>
  <style>
    body {
      font-family: Arial;
      background: #f2f2f2;
      transition: 0.3s;
    }

    .dark {
      background: #121212;
      color: white;
    }

    .container {
      width: 400px;
      margin: 50px auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px gray;
      transition: 0.3s;
    }

    .dark .container {
      background: #1e1e1e;
    }

    input {
      width: 65%;
      padding: 8px;
    }

    button {
      padding: 8px;
      margin: 2px;
      cursor: pointer;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      background: #e6e6e6;
      padding: 8px;
      margin-top: 5px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .dark li {
      background: #2c2c2c;
    }

    .done {
      text-decoration: line-through;
      color: gray;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>My Todo List</h2>

  <button onclick="toggleMode()">üåô Dark Mode</button><br><br>

  <input type="text" id="taskInput" placeholder="Enter task">
  <button onclick="addTask()">Add ‚ûï</button>

  <ul id="todoList"></ul>
</div>

<script>
  let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
  let darkMode = localStorage.getItem("darkMode") === "true";

  if (darkMode) document.body.classList.add("dark");

  function toggleMode() {
    document.body.classList.toggle("dark");
    localStorage.setItem("darkMode", document.body.classList.contains("dark"));
  }

  function saveTasks() {
    localStorage.setItem("tasks", JSON.stringify(tasks));
  }

  function showTasks() {
    todoList.innerHTML = "";
    tasks.forEach((task, index) => {
      let li = document.createElement("li");

      let check = document.createElement("input");
      check.type = "checkbox";
      check.checked = task.done;
      check.onclick = function () {
        task.done = check.checked;
        saveTasks();
        showTasks();
      };

      let span = document.createElement("span");
      span.innerText = task.text;
      if (task.done) span.classList.add("done");

      let editBtn = document.createElement("button");
      editBtn.innerText = "Edit ‚úèÔ∏è";
      editBtn.onclick = function () {
        let newText = prompt("Edit task:", task.text);
        if (newText) {
          task.text = newText;
          saveTasks();
          showTasks();
        }
      };

      let delBtn = document.createElement("button");
      delBtn.innerText = "Delete ‚ùå";
      delBtn.onclick = function () {
        tasks.splice(index, 1);
        saveTasks();
        showTasks();
      };

      li.appendChild(check);
      li.appendChild(span);
      li.appendChild(editBtn);
      li.appendChild(delBtn);
      todoList.appendChild(li);
    });
  }

  function addTask() {
    let text = taskInput.value;
    if (text === "") {
      alert("Enter a task");
      return;
    }
    tasks.push({ text: text, done: false });
    saveTasks();
    showTasks();
    taskInput.value = "";
  }

  showTasks();
</script>

</body>
</html>
